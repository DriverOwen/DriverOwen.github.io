function MatrixStack(){}MatrixStack.matrixStack=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],MatrixStack.depth=0,MatrixStack.currentMatrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],MatrixStack.tmp=new Array(16),MatrixStack.reset=function(){this.depth=0},MatrixStack.loadIdentity=function(){for(var t=0;t<16;t++)this.currentMatrix[t]=t%5==0?1:0},MatrixStack.push=function(){this.depth;var t=16*(this.depth+1);this.matrixStack.length<16+t&&(this.matrixStack.length=16+t);for(var r=0;r<16;r++)this.matrixStack[t+r]=this.currentMatrix[r];this.depth++},MatrixStack.pop=function(){this.depth--,this.depth<0&&(myError("Invalid matrix stack."),this.depth=0);for(var t=16*this.depth,r=0;r<16;r++)this.currentMatrix[r]=this.matrixStack[t+r]},MatrixStack.getMatrix=function(){return this.currentMatrix},MatrixStack.multMatrix=function(t){for(var r,i,a=0;a<16;a++)this.tmp[a]=0;for(a=0;a<4;a++)for(r=0;r<4;r++)for(i=0;i<4;i++)this.tmp[a+4*r]+=this.currentMatrix[a+4*i]*t[i+4*r];for(a=0;a<16;a++)this.currentMatrix[a]=this.tmp[a]};